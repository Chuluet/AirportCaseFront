<mat-card class="cardWithShadow rounded-card">
  <mat-card-content>

    <!-- Encabezado -->
    <div class="header">
      <div>
        <mat-card-title>passenger</mat-card-title>
        <mat-card-subtitle>List:</mat-card-subtitle>
      </div>
      <button mat-flat-button color="primary" (click)="goToSCreateForm()">Add passenger</button>
    </div>

    <hr />

    <!-- Tabla -->
    <div class="table-responsive">
      <table class="passenger-table">
        <thead>
          <tr>
            <th hidden>ID</th>
            <th>Name</th>
            <th>PassportId</th>
            <th>Email</th>
            <th>Phone</th>
            <th>Seat Preference</th>
            <th>Meal Preference</th>
            <th>Status</th>
            <th class="actions-header">Actions</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let passenger of passengerList">
            <td hidden>{{ passenger.id }}</td>
            <td>{{ passenger.name }}</td>
            <td>{{ passenger.passportId }}</td>
            <td>{{ passenger.email }}</td>
            <td>{{ passenger.phone }}</td>
            <td>{{ passenger.seatPreference }}</td>
            <td>{{ passenger.mealPreference }}</td>
            <td>
              <span class="badge" 
                    [class.badge-active]="passenger.isActive"
                    [class.badge-inactive]="!passenger.isActive">
                {{ passenger.isActive ? 'Active' : 'Inactive' }}
              </span>
            </td>
            <td class="actions-cell">
              <button mat-icon-button [matMenuTriggerFor]="menu">
                <mat-icon>more_vert</mat-icon>
              </button>
              <mat-menu #menu="matMenu">
                <button mat-menu-item (click)="goToPassengerForm(passenger.id!)">
                  <mat-icon>edit</mat-icon>
                  <span>Edit</span>
                </button>
                
                <button mat-menu-item (click)="changePassengerStatus(passenger.id!, passenger.isActive!)">
                  <mat-icon>autorenew</mat-icon>
                  <span>{{ passenger.isActive ? 'Deactivate' : 'Activate' }}</span>
                </button>
                
                <button mat-menu-item (click)="deletePassenger(passenger.id!)">
                  <mat-icon>delete</mat-icon>
                  <span>Delete</span>
                </button>
              </mat-menu>
            </td>
          </tr>
        </tbody>
      </table>
    </div>

  </mat-card-content>
</mat-card>